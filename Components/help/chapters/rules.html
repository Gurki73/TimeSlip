<h2>ğŸ“˜ Kapitel 6: Das Regelwerk</h2>

<div class="long">
    <p><strong>Wozu Ã¼berhaupt Regeln?</strong></p>
    <p>Das Regelwerk dient einem einzigen, aber wichtigen Zweck: <strong>Es warnt</strong>. Regeln greifen
        <em>nicht</em> automatisch in Planungen ein, sie verÃ¤ndern keine Schichtverteilungen und lehnen keine
        UrlaubsantrÃ¤ge ab. Stattdessen geben sie kontextabhÃ¤ngig visuelles Feedback an drei Stellen:
    </p>
    <ul>
        <li><strong>Beim Erstellen einer Regel</strong>, wenn sie widersprÃ¼chlich oder unmÃ¶glich ist.</li>
        <li><strong>Beim Einreichen eines Urlaubsantrags</strong>, wenn der Antrag einen RegelverstoÃŸ auslÃ¶sen wÃ¼rde.
        </li>
        <li><strong>Im Kalender</strong> auf Monats-, Wochen-, Tages- oder Schicht-Ebene.</li>
    </ul>
</div>

<div class="tiny collapsable">
    <p><strong>Warnsystem: Wo Regeln wirken</strong></p>
    <ul>
        <li><strong>Regel-Editor:</strong> PrÃ¼ft sich selbst auf WidersprÃ¼che.</li>
        <li><strong>Kalender:</strong> Zeigt Warnsymbole an Tagen, Wochen, Monaten oder Schichten.</li>
        <li><strong>Urlaub:</strong> PrÃ¼ft, ob ein Antrag zu einem RegelverstoÃŸ fÃ¼hren wÃ¼rde.</li>
    </ul>
</div>

<div class="long">
    <h3>âš™ï¸ Aufbau der Regeln</h3>
    <p>Regeln bestehen aus sogenannten <strong>Building Blocks</strong> in Tabellenform mit Dropdown-MenÃ¼s. Jede Zeile
        bildet eine vollstÃ¤ndige Regel, bestehend aus bis zu sechs Spalten:</p>

    <table>
        <thead>
            <tr>
                <th>Spalte</th>
                <th>Bedeutung</th>
                <th>Pflichtfeld</th>
                <th>Beispiele</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1. Wiederholung</td>
                <td>Wie oft etwas passieren soll</td>
                <td>optional</td>
                <td>nie, immer, 1Ã—, min 2Ã—</td>
            </tr>
            <tr>
                <td>2. Zeitraum / Kontext</td>
                <td>Wann oder in welchem Kontext</td>
                <td>optional</td>
                <td>Tag, Woche, Schulferien</td>
            </tr>
            <tr>
                <td>3. Anzahl</td>
                <td>Wie viele Personen</td>
                <td><strong>Pflicht</strong></td>
                <td>genau 3, min 4, max 2, â‰¥30%</td>
            </tr>
            <tr>
                <td>4. Aufgaben / Rollen</td>
                <td>Welche Rolle(n)</td>
                <td><strong>Pflicht</strong></td>
                <td>KÃ¶che, Empfang && SpÃ¼ler</td>
            </tr>
            <tr>
                <td>5. Bedingung</td>
                <td>Status oder VerhÃ¤ltnis</td>
                <td><strong>Pflicht</strong></td>
                <td>anwesend, abwesend, braucht (Empfang)</td>
            </tr>
            <tr>
                <td>6. Ausnahme / Modifikation</td>
                <td>Erweiterungen oder EinschrÃ¤nkungen</td>
                <td>optional</td>
                <td>auÃŸer an Feiertagen, aber max 3</td>
            </tr>
        </tbody>
    </table>
</div>

<div class="tiny collapsable">
    <h4>ğŸ“Œ Beispielregeln</h4>
    <ul>
        <li><em>Immer mindestens 2 Empfangsmitarbeiter anwesend â€“ auÃŸer an Feiertagen</em></li>
        <li><em>Nie mehr als 3 KÃ¶che gleichzeitig an einem Tag</em></li>
        <li><em>Mindestens 1 Person mit Empfang oder TelefonfÃ¤higkeiten jeden Sonntag</em></li>
        <li><em>WÃ¤hrend Schulferien mindestens 1 Aushilfe pro Schicht</em></li>
        <li><em>Immer mehr SpÃ¼ler als Barkeeper â€“ auÃŸer freitags</em></li>
    </ul>
</div>

<div class="long">
    <h4>ğŸ§  Tipps & Hinweise</h4>
    <ul>
        <li>Regeln gelten <strong>immer fÃ¼r Rollen</strong> â€“ nicht fÃ¼r konkrete Mitarbeiter.</li>
        <li>Regeln sind <strong>gleichberechtigt</strong> und kennen einander nicht.</li>
        <li>Konflikte entstehen durch Unvereinbarkeit (z.â€¯B. zu wenig Personal).</li>
        <li>Regeln verÃ¤ndern <strong>nicht automatisch</strong> die Planung.</li>
        <li>Sie dienen rein der <strong>FrÃ¼hwarnung</strong> â€“ besonders hilfreich bei Urlaubsentscheidungen.</li>
    </ul>
</div>

<div class="tiny">
    <p><strong>Grenzen des Systems:</strong> Das Regelwerk ist ein Assistenzsystem â€“ kein Ersatz fÃ¼r vorausschauende
        Planung. FÃ¼r komplexe Betriebslogiken oder Wechselschicht-Modelle braucht es ggf. zusÃ¤tzliche Tools.</p>
</div>

<h3>ratio strategy matrix:</h3>
<table border="1" cellpadding="8" cellspacing="0">
    <tr>
        <th></th>
        <th>braucht<br><small>zwingt Zielperson</small></th>
        <th>HELPS<br><small>unterstÃ¼tzt Zielperson</small></th>
    </tr>
    <tr>
        <th>Aufgabe/ Gruppe</th>
        <td>Auslastung</td>
        <td>KapazitÃ¤t</td>
    </tr>
    <tr>
        <th>Alternative</th>
        <td>Existenz</td>
        <td>Aufsicht</td>
    </tr>
</table>

<h2>VerhÃ¤ltnis- & Anwesenheitsregeln â€“ Mentalmodell</h2>

<strong>Oberste Direktive</strong><br>
Flexible VerhÃ¤ltnis-Regeln dÃ¼rfen <b>niemals gleichzeitig</b>
<ul>
    <li>das <b>untere Limit (Minimum)</b> und</li>
    <li>das <b>obere Limit (Maximum)</b></li>
</ul>
verschieben.
<br>
<b>Jede Regelart berÃ¼hrt genau eine Grenze.</b>

<hr>

<h3>Grundachsen (wichtig zum Wieder-Einordnen)</h3>
<ul>
    <li><b>AND</b> â†’ zÃ¤hlt Mengen / skaliert VerhÃ¤ltnisse</li>
    <li><b>OR</b> â†’ prÃ¼ft Existenz (mindestens einer)</li>
    <li><b>NEEDS</b> â†’ verschiebt <b>Minimum</b></li>
    <li><b>HELPS</b> â†’ verschiebt <b>Maximum</b></li>
</ul>

<hr>

<h3>Die 4 Arten flexibler VerhÃ¤ltnis-Regeln</h3>

<ol>

    <!-- 1 -->
    <li>
        <strong>Auslastung</strong> (AND + NEEDS)<br>
        <em>nachfragegetriebenes Minimum</em>

        <p>
            FÃ¼r eine bestimmte Anzahl Zielpersonen wird UnterstÃ¼tzung benÃ¶tigt.
        </p>

        <p><b>Wirkung:</b></p>
        <ul>
            <li>âœ… verschiebt <b>lowerLimit</b></li>
            <li>âŒ upperLimit bleibt unverÃ¤ndert</li>
        </ul>

        <p><b>Formel-Idee:</b></p>
        <pre>
min = ceil( subjects / ratio )
        </pre>

        <p><b>Beispiele (Gastronomie / Pflege):</b></p>
        <ul>
            <li>1 Koch braucht 2 Kellner
                â†’ mindestens doppelt so viele Kellner wie KÃ¶che
            </li>
            <li>3 Kellner + Lieferfahrer brauchen 1 Koch
                â†’ je 3 ServicekrÃ¤fte mindestens 1 Koch
            </li>
            <li>10 PflegekrÃ¤fte â†’ mindestens 1 Arzt</li>
        </ul>

        <p>
            <i>Skaliert mit Arbeitslast.</i>
        </p>
    </li>

    <!-- 2 -->
    <li>
        <strong>KapazitÃ¤t</strong> (AND + HELPS)<br>
        <em>angebotsgetriebenes Maximum</em>

        <p>
            Jede unterstÃ¼tzende Rolle kann nur eine begrenzte Anzahl Zielpersonen bedienen.
        </p>

        <p><b>Wirkung:</b></p>
        <ul>
            <li>âŒ lowerLimit bleibt unverÃ¤ndert</li>
            <li>âœ… verschiebt <b>upperLimit</b></li>
        </ul>

        <p><b>Formel-Idee:</b></p>
        <pre>
max = supporters * capacity
        </pre>

        <p><b>Beispiele:</b></p>
        <ul>
            <li>1 Koch kann max. 4 Kellner unterstÃ¼tzen</li>
            <li>1 Arzt betreut max. 10 PflegekrÃ¤fte</li>
            <li>1 Ausbilder betreut max. 5 Azubis</li>
        </ul>

        <p>
            <i>Skaliert mit verfÃ¼gbarer UnterstÃ¼tzung.</i>
        </p>
    </li>

    <!-- 3 -->
    <li>
        <strong>Existenzanforderung</strong> (OR + NEEDS)<br>
        <em>(frÃ¼her: â€Presenceâ€œ, bewusst umbenannt)</em>

        <p>
            Wenn irgendeine Zielrolle existiert, muss mindestens eine unterstÃ¼tzende Rolle existieren.
        </p>

        <p><b>Wirkung:</b></p>
        <ul>
            <li>âœ… setzt ein <b>hartes Minimum</b> (meist 1)</li>
            <li>âŒ upperLimit bleibt unverÃ¤ndert</li>
        </ul>

        <p><b>Formel-Idee:</b></p>
        <pre>
if (sum(subjects) > 0)
    min = required
        </pre>

        <p><b>Beispiele (Sicherheit / Ausbildung):</b></p>
        <ul>
            <li>Wenn Maschine lÃ¤uft â†’ mindestens 1 Ersthelfer</li>
            <li>Wenn Labor aktiv â†’ mindestens 1 Sicherheitsbeauftragter</li>
            <li>Wenn Azubi anwesend â†’ mindestens 1 Trainer</li>
        </ul>

        <p>
            <b>Wichtig:</b><br>
            Das ist <u>keine</u> BetreuungskapazitÃ¤t.<br>
            Es ist eine <b>Existenz-Erlaubnis</b>.
        </p>
    </li>

    <!-- 4 -->
    <li>
        <strong>Aufsicht / Supervision</strong> (OR + HELPS)<br>
        <em>geteilter UnterstÃ¼tzer-Pool</em>

        <p>
            Jede der genannten Rollen kann Zielpersonen beaufsichtigen.
        </p>

        <p><b>Wirkung:</b></p>
        <ul>
            <li>âŒ lowerLimit bleibt unverÃ¤ndert</li>
            <li>âœ… verschiebt <b>upperLimit</b></li>
        </ul>

        <p><b>Formel-Idee:</b></p>
        <pre>
max = sum(supervisors) * supervisionCapacity
        </pre>

        <p><b>Beispiele:</b></p>
        <ul>
            <li>Jeder Senior kann 5 Juniors betreuen</li>
            <li>Jeder Arzt kann 10 PflegekrÃ¤fte Ã¼berwachen</li>
            <li>Jeder Ausbilder kann 3 Azubis beaufsichtigen</li>
        </ul>

        <p>
            <i>Klassischer Ressourcen-Pool â€“ mental am einfachsten.</i>
        </p>
    </li>

</ol>

<hr>
<h3>Merksatz (fÃ¼r Sprint-Ende ğŸ˜µâ€ğŸ’«)</h3>
<ul>
    <li><b>AND</b> zÃ¤hlt und skaliert</li>
    <li><b>OR</b> triggert Existenz</li>
    <li><b>NEEDS</b> verschiebt Minimum</li>
    <li><b>HELPS</b> verschiebt Maximum</li>
</ul>